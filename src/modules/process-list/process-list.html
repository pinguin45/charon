<template>
  <require from="./process-list.css"></require>
  <div class="container">
    <div if.bind="instances && instances.length > 0">
      <table class="table table-striped table-bordered">
          <tr>
            <th>Key</th>            
            <th>ID</th>
            <th>
              State
              <select ref="selectedState" change.delegate="updateList()">       
                <option value="all">all</option>
                <option repeat.for="state of status" value="${state}">${state}</option>
              </select>
            </th>
            <th></th>
          </tr>
          <tr repeat.for="instance of instances">
            <td>${instance.key}</td>
            <td>${instance.id}</td>
            <td>${instance.status}</td>
            <td>
              <a class="btn btn-danger" click.delegate="doCancel(instance.id)" disabled>Stop</a>
            </td>
          </tr>
        </table>
    </div>
    <div if.bind="!instances || instances.length === 0">
        <h3>Keine Instanzen gefunden</h3>
    </div>

    <nav aria-label="Result navigation">
      <ul class="pagination">
        <li class="${currentPage <= 1 ? 'disabled' : ''}">
          <span if.bind="currentPage <= 1" aria-hidden="true">&laquo;</span>
          <a if.bind="currentPage > 1" href="#/process/1" aria-label="First">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        <li class="${currentPage <= 1 ? 'disabled' : ''}">
          <span if.bind="currentPage <= 1" aria-hidden="true">&lsaquo;</span>
          <a if.bind="currentPage > 1" href="#/process/${currentPage - 1}" aria-label="Previous">
            <span aria-hidden="true">&lsaquo;</span>
          </a>
        </li>
        <li repeat.for="page of maxPages" class="${page + 1 == currentPage ? 'active' : ''}">
          <a href="#/process/${page + 1}">${page + 1}</a>
        </li>
        <li class="${currentPage >= maxPages ? 'disabled' : ''}">
          <span if.bind="currentPage >= maxPages" aria-hidden="true">&rsaquo;</span>
          <a if.bind="currentPage < maxPages" href="#/process/${currentPage + 1}" aria-label="Next">
            <span aria-hidden="true">&rsaquo;</span>
          </a>
        </li>
        <li class="${currentPage >= maxPages ? 'disabled' : ''}">
          <span if.bind="currentPage >= maxPages" aria-hidden="true">&raquo;</span>
            <a if.bind="currentPage < maxPages" href="#/process/${maxPages}" aria-label="Last">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</template>
